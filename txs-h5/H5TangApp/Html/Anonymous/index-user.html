<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui" />
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="Expires" content="-1">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Pragma" content="no-cache">
    <title>唐小僧首页</title>
    <link rel="stylesheet" type="text/css" href="/css/foundation.min.css">
    <link rel="stylesheet" type="text/css" href="/css/base.css?20160321010">
    <script src="/js/vendor/jquery.js"></script>
    <script src="/js/foundation.min.js"></script>
    <script src="/js/foundation/foundation.orbit.js"></script>
    <script src="/js/common.js"></script>
    <link rel="stylesheet" type="text/css" href="/css/newCommon.css">
</head>

<body class="bg-gray">
    <div id="all-body-div-preloader"><div id="all-body-div-status"></div></div>
    <section class="home">
        <article class="viewport personal">
            <!--标签备注
            个人账户显示<article class="viewport personal">
            商家账户显示<article class="viewport">
            -->
            <article class="money-top pr">
                <div class="vip-photo"><a href=""><img src="/css/img2.0/v1.png" class="img-responsive"></a></div>
                <div class="money-nav">
                    <a href="javascript:void(0);" class="wxicon icon-nav-sign"></a>
                    <a href="description-earnings.html" class="wxicon icon-nav-help"></a>
                </div>
                <div class="money-count oh">
                    <p class="text-center">昨日收益(元)<img src="/css/img2.0/isopeneye.png" class="img_eye"/></p>
                    <p class="text-center yesterday-income ">+<span class="timer" id="count-number" data-to="0.88" data-decimals="2" data-speed="1000"></span></p>
                    <p class="text-center yesterday-income noincome display-none"><span>暂无收益</span></p>
                    <div class="total-assetsoh oh">
                        <div class="small-6 left text-right">总资产(元)<span class="timer" data-to="1000.99" data-decimals="2" data-speed="1000">30000</span></div>
                        <div class="small-6 right text-left bl">昨日收益率<span><i class="timer" id="rate-return" data-decimals="2" data-to="12.45" data-speed="1000"></i>%</span></div>
                    </div>
                </div>
            </article>
            <article class="bg-white bb total-amount">
                <div class="left"><span class="wxicon icon-coins"></span></div>
                <div class="left tat">在投总金额：</div>
                <div class="left">225,000.00</div>
            </article>
            <article class="bg-white bb gray aerchant-account">
                <div class="small-7 left">商户账户：<span>225,000.00</span></div>
                <div class="small-5 left">昨日收益：<span>124.00</span></div>
            </article>
            <a class="bg-white bt bb mt cast-fundlist" href="javascript:void(0);">
                <div class="nologin-warp">
                    <div class="fundlist-title pr"><span class="wxicon icon-current"></span>至尊宝<span class="dline">|</span><span class="income"><i>8</i>.00%+</span></div>
                    <div class="fundlist-intro gray">
                        <div class="small-6 left"><span>10,000.00</span>在投金额(元)</div>
                        <div class="small-6 left"><span>15.00</span>昨日收益(元）</div>
                    </div>
                </div>
            </a>
            <a class="bg-white bb mb cast-fundlist" href="javascript:void(0);">
                <div class="nologin-warp">
                    <div class="fundlist-title pr"><span class="wxicon icon-regular"></span>定期&nbsp;&nbsp;&nbsp;<span class="dline">|</span><span class="income"><i>8</i>.50%~<i>10</i>.50%</span></div>
                    <div class="fundlist-intro gray">
                        <div class="small-6 left"><span>8,888.00</span>在投金额(元)</div>
                        <div class="small-6 left"><span>5.00</span>昨日收益(元）</div>
                    </div>
                </div>
            </a>
            <a class="bg-white bt bb mt nopurchase-fundlist" href="javascript:void(0);">
                <div class="nologin-warp">
                    <div class="fundlist-title pr"><span class="wxicon icon-current"></span>至尊宝<span class="dline">|</span><span class="income"><i>8</i>.00%+</span></div>
                    <div class="fundlist-intro">
                        <div class="small-4 left text-center">
                            <img src="/css/img2.0/nopurchase.png">
                            <span>您还未申购</span>
                        </div>
                        <div class="small-6 left">
                            <span class="gray display-block">期限灵活 随存随取</span>
                            <span class="display-block colorcea"><span class="wxicon icon-hike"></span>&nbsp;新年加息 3%</span>
                        </div>
                    </div>
                </div>
            </a>
            <a class="bg-white bb mb nopurchase-fundlist" href="javascript:void(0);">
                <div class="nologin-warp">
                    <div class="fundlist-title pr"><span class="wxicon icon-regular"></span>定期&nbsp;&nbsp;&nbsp;<span class="dline">|</span><span class="income"><i>8</i>.50%~<i>10</i>.50%</span></div>
                    <div class="fundlist-intro">
                        <div class="small-4 left text-center">
                            <img src="/css/img2.0/nopurchase.png">
                            <span>您还未申购</span>
                        </div>
                        <div class="small-6 left">
                            <span class="gray display-block">随时可转 百元起购</span>
                            <span class="display-block colorcea"><span class="wxicon icon-exclusive"></span>&nbsp;新用户专享&nbsp;&nbsp;</span>
                        </div>
                    </div>
                </div>
            </a>
            <article class="ensure" onclick="window.location.href=''">
                <div class="small-4 left pr"><span class="wxicon icon-ensure-01"></span>严格甄选<br>优质产品</div>
                <div class="small-4 left pr"><span class="wxicon icon-ensure-02"></span>十层风控<br>十道审核</div>
                <div class="small-4 left pr"><span class="wxicon icon-ensure-03"></span>贴心服务<br>便捷操作</div>
            </article>
            <article class="safety text-center" onclick="window.location.href='/Html/picc.html'"><span class="wxicon icon-safety"></span> 账户资金防盗安全由新浪支付和太平财险共同保障</article>
        </article>
    </section>




    <script type="text/javascript" src="/js/appendButtonBar.js"></script>
    <script>
        $(function(){
            footerBar.highlight(1);
        })
        $(window).load(function () {
            $("#all-body-div-status").fadeOut();
            $("#all-body-div-preloader").delay(350).fadeOut("slow");
            setTimeout(function () { $(".mymove2").removeClass("mymove2"); }, 3000);
        })

        $.fn.countTo = function (options) {
            options = options || {};
            return $(this).each(function () {

                // set options for current element
                var settings = $.extend({}, $.fn.countTo.defaults, {
                    from: $(this).data('from'),
                    to: $(this).data('to'),
                    speed: $(this).data('speed'),
                    refreshInterval: $(this).data('refresh-interval'),
                    decimals: $(this).data('decimals'),
                    size: parseInt($(this).data('to')).toString().length
                }, options);

                // how many times to update the value, and how much to increment the value on each update
                var loops = Math.ceil(settings.speed / settings.refreshInterval),
                    increment = (settings.to - settings.from) / loops;
                // references & variables that will change with each update
                console.log(settings.from);
                var self = this,
                    $self = $(this),
                    loopCount = 0,
                    value = settings.from,
                    data = $self.data('countTo') || {};
                $self.data('countTo', data);
                // if an existing interval can be found, clear it first
                if (data.interval) {
                    clearInterval(data.interval);
                }
                data.interval = setInterval(updateTimer, settings.refreshInterval);
                // initialize the element with the starting value
                render(value);
                function updateTimer() {
                    value += increment;
                    loopCount++;
                    render(value);
                    if (typeof (settings.onUpdate) == 'function') {
                        settings.onUpdate.call(self, value);
                    }
                    if (loopCount >= loops) {
                        // remove the interval
                        $self.removeData('countTo');
                        clearInterval(data.interval);
                        value = settings.to;
                        if (typeof (settings.onComplete) == 'function') {
                            settings.onComplete.call(self, $self, value, settings.size);
                        }
                    }
                }
                function render(value) {
                    var formattedValue = formattermoney(value);
                    var padvalue = pad(formattedValue, settings.size)
                    $self.html(padvalue);
                }
            });
        };

        $.fn.countTo.defaults = {
            from: 0,               // the number the element should start at
            to: 0,                 // the number the element should end at
            speed: 1000,           // how long it should take to count between the target numbers
            refreshInterval: 10,  // how often the element should be updated
            decimals: 2,           // the number of decimal places to show
            formatter: formatter,  // handler for formatting the value before rendering
            onUpdate: null,        // callback method for every time the element is updated
            onComplete: complete   // callback method for when the element finishes updating
        };

        function complete($self, value, size) {
            var formattedValue = formattermoney(value);
            var padvalue = pad(formattedValue, size)
            $self.html(padvalue);
        }

        function formattermoney(s, n, t) {
            console.log(s);
            //格式化金额
            if (!s)
                return '0';
            n = n >= 0 && n <= 20 ? n : 2;
            s = parseFloat(s + "");
            if (t) {
                var pow = Math.pow(10, n);
                if (t == 1) {
                    s = Math.floor(s * pow) / pow;
                } else if (t == 2) {
                    s = Math.ceil(s * pow) / pow;
                }
            }
            s = s.toFixed(n) + "";
            var arr = s.split(".");
            var l = arr[0].split("").reverse(),
            r = arr[1];
            t = "";
            for (i = 0; i < l.length; i++) {
                t += "" + l[i] + ((i + 1) % 3 == 0 && (i + 1) != l.length ? "," : "");
            }
            console.log(t.split("").reverse().join("") + ((n == 0) ? "" : "." + r));
            return t.split("").reverse().join("") + ((n == 0) ? "" : "." + r);
        }

        function formatter(value, settings) {
            return value.toFixed(settings.decimals);

            //return pad(value, settings.size);
        }

        function pad(num, n) {
            return Array(n < num ? (n - ('' + parseInt(num)).length + 1) : 0).join(0) + num;
        }

        function initialvaluefun(maxvalue) {
            maxvalue = parseInt(maxvalue).toString();
            var initialvalue = "1";
            for (var i = 1; i < maxvalue.length; i++) {
                initialvalue += "0"
            }
            return initialvalue + ".00";
        }

        // start all the timers
        $('.timer').each(count);

        function count(options) {
            var $this = $(this);
            options = $.extend({}, options || {}, $this.data('countToOptions') || {});
            $this.countTo(options);
        }
    </script>
</body>
</html>